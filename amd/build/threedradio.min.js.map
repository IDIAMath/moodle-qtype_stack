{"version":3,"sources":["../src/threedradio.js"],"names":["standardValues","threedradio","inputid","exp","options","slice","length","element","document","getElementById","parentNode","style","width","height","paddingBottom","margin","display","waitfordependencies","board","Parser","setTimeout","createCanvas","createMathBox","expression","console","log","canvasDiv","createElement","appendChild","resolution","disableaxes","ranges","split","map","num","parseFloat","xMin","xMax","yMin","yMax","zMin","zMax","JXG","JSXGraph","initBoard","divId","boundingbox","keepaspectratio","axis","grid","box","view","create","xPlaneRear","visible","yPlaneRear","zFunc","parse","toJSFunction","calculateZRange","createGraph","set","camera","proxy","position","xAxis","zIndex","detail","color","xScale","scale","divide","nice","zero","xTicks","ticks","size","zBias","xFormat","format","digits","font","weight","source","xTicksLabel","label","offset","points","text","yAxis","yScale","yTicks","yFormat","yTicksLabel","zAxis","zScale","zTicks","zFormat","zTicksLabel","axes","divideX","divideY","opacity","hasOwnProperty","three","renderer","setClearColor","includes","createImplicitGraph","x","y","z","createParametricGraph","createExplicitGraph","zSmallest","zBiggest","xFunc","yFunc","graphColorFunc","createGraphColorFunc","graphData","area","channels","expr","emit","u","v","graphColors","rangeX","rangeY","graphViewSolid","surface","shaded","fill","lineX","lineY","colors","graphViewWire","functions","replace","lhs","rhs","frankenfunc","implicitTriangles","i","implicitgroup","group","array","items","data","live","surf","strip","zOrder","graphopacity","graphColorStyle","percent","THREE","Color","setHSL","r","g","b","initMethods","window"],"mappings":"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","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Class for handling question issue page.\n *\n * @module     qtype_stack/threedradio\n * @package    qtype_stack\n * @author     David Rise Knotten <david_knotten@hotmail.no>\n * @copyright  2021 NTNU\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n import marchingCubes from \"./marchingcube\";\n\n // TODO refactor the code to allow the setup of ranges work with implicit graphs too,\n // as now an implicit graph has to hook into an existing canvas\n // for implicit, one option could be te iterate through the marchingcubes result and find\n // the largest/smallest values of z\n \n // TODO creategraphcolors function for implicit graphs (If possible)\n \n // Bruke {...stdvals, ...opts} men createzrange vil alti bli overwrita\n \n /**\n  *\n  * @type {{\"backgroundcolor\": string, ranges: string, graphcolorstyle: string, disableaxes: boolean}}\n  */\n const standardValues = {\n     'backgroundcolor': 'white',\n     'graphcolorstyle': 'lightblue',\n     'disableaxes': false,\n     'ranges': '-3;3;-3;3',\n     'resolution': 64,\n     'graphopacity': null,\n     'canvaswidth': '80%',\n     'canvasheight': null,\n };\n \n /**\n  *\n  * @param inputid The ID of the input sibling-node where the canvas will be placed\n  * @param exp The code element containing the expression\n  * @param {Object|null} options Any optional changes, @see {@link standardValues} to see the supported options\n  */\n export const threedradio = (inputid, exp, options) => {\n \n     options = {\n         ...standardValues,\n         ...options,\n     }\n \n     if (exp == null || exp == '') return null\n     // Remove code tags\n     exp = exp.slice(6, exp.length-7);\n \n     // Get the option node where the input and canvas are placed\n     let element = document.getElementById(inputid).parentNode;\n     element.style.width = options['canvaswidth'] ?? '80%';\n     element.style.height = options['canvasheight'] ?? 0;\n     // If element height is 0, make the padding 50% of the parent elements height\n     if (element.style.height == '0px') {\n         element.style.paddingBottom = '50%';\n     }\n     element.style.margin = '10px';\n     element.style.display = 'inline-flex';\n \n     const waitfordependencies = () => {\n         if (typeof board == \"undefined\" || typeof Parser == \"undefined\") {\n             setTimeout(waitfordependencies, 100);\n         } else {\n             createCanvas(element, exp, options)\n         }\n     }\n     waitfordependencies();\n }\n \n const createMathBox = (element, expression, options = {}) => {\n     options = {\n         ...standardValues,\n         ...options,\n     }\n     console.log(element)\n \n     let canvasDiv = document.createElement('div')\n     canvasDiv.style.width = options['canvaswidth'] ?? '80%';\n     canvasDiv.style.height = options['canvasheight'] ?? '0';\n     canvasDiv.style.paddingBottom = '50%';\n     canvasDiv.style.margin = '10px';\n     canvasDiv.style.display = 'inline-flex';\n     element.appendChild(canvasDiv) \n \n     return createCanvas(canvasDiv, expression, options)\n }\n \n /**\n  * Creates a MathBox canvas under the element, the expression and options are optional and can be nulled\n  *\n  * @param element The element the mathbox canvas should be placed\n  * @param {String|null} expression The mathmatical expression to render\n  * @param {Object|null} options Any optional changes, @see {@link standardValues} to see the supported options\n  */\n export const createCanvas = (element, expression, options = {}) => {\n     // Setup\n     //==================================================================================================================\n     // THe nxn resolution of the render\n     options = {\n         ...standardValues,\n         ...options,\n     }\n     var resolution = options.resolution;\n     let disableaxes = options.disableaxes;\n     let ranges = options.ranges.split(';').map(num => parseFloat(num));\n \n     var\txMin = parseFloat(ranges[0]), xMax = parseFloat(ranges[1]), yMin = parseFloat(ranges[2]), yMax = parseFloat(ranges[3]), zMin = -3, zMax = 3;\n     if( ranges.length > 4) {\n         zMin = parseFloat(ranges[4])\n         zMax = parseFloat(ranges[5])\n     }\n     //==================================================================================================================\n \n     // Creates a JXG board to plot a graph on\n     var board = JXG.JSXGraph.initBoard(divId, {\n         boundingbox: [-5, 5, 5, -5],\n         keepaspectratio: false,\n         axis: false,\n         grid: true\n     });\n \n \n     // Displays \n     var box = [-5,-5];\n     var view = board.create('view3d', [[-6,-3], [8,8], [box,box,box]], {\n         xPlaneRear: {visible: false},\n         yPlaneRear: {visible: false},\n     });\n \n     if (expression != null && expression != '') {\n         let zFunc = Parser.parse(expression).toJSFunction(['x','y']);\n         \n         if ( ranges.length <= 4) {\n             [zMin, zMax] = calculateZRange(zFunc, ranges, resolution).map(num => parseFloat(num))\n         }\n          \n \n         [zMin, zMax] = createGraph(expression, view, options);\n     }\n \n \n     // Sets the ranges of the render\n     view.set(\"range\", [[xMin, xMax], [zMin,zMax],[yMin, yMax]]);\n \n     // setting proxy:true allows interactive controls to override base position\n     var camera = board.camera( { proxy: true, position: [4,2,4] } );\n     // Display axes unless they are disabled\n     if (!disableaxes) {\n         var xAxis = view.axis( {axis: 1, width: 8, zIndex:1, detail: 40, color:\"red\"} );\n         var xScale = view.scale( {axis: 1, divide: 10, nice:true, zero:true} );\n         var xTicks = view.ticks( {width: 5, size: 15, color: \"red\", zBias:2} );\n         var xFormat = view.format( {digits: 2, font:\"Arial\", weight: \"bold\", style: \"normal\", source: xScale} );\n         var xTicksLabel = view.label( {color: \"red\", zIndex: 1, offset:[0,-20], points: xScale, text: xFormat} );\n \n         var yAxis = view.axis( {axis: 3, width: 8, detail: 40, color:\"green\"} );\n         var yScale = view.scale( {axis: 3, divide: 5, nice:true, zero:false} );\n         var yTicks = view.ticks( {width: 5, size: 15, color: \"green\", zBias:2} );\n         var yFormat = view.format( {digits: 2, font:\"Arial\", weight: \"bold\", style: \"normal\", source: yScale} );\n         var yTicksLabel = view.label( {color: \"green\", zIndex: 1, offset:[0,0], points: yScale, text: yFormat} );\n \n         var zAxis = view.axis( {axis: 2, width: 8, detail: 40, color:\"blue\"} );\n         var zScale = view.scale( {axis: 2, divide: 5, nice:true, zero:false} );\n         var zTicks = view.ticks( {width: 5, size: 15, color: \"blue\", zBias:2} );\n         var zFormat = view.format( {digits: 2, font:\"Arial\", weight: \"bold\", style: \"normal\", source: zScale} );\n         var zTicksLabel = view.label( {color: \"blue\", zIndex: 1, offset:[0,0], points: zScale, text: zFormat} );\n \n     }\n     view.grid( {axes:[1,3], width: 2, divideX: 20, divideY: 20, opacity:0.25} );\n \n \n     if(options.hasOwnProperty('backgroundcolor')) {\n         board.three.renderer.setClearColor(options['backgroundcolor']);\n     }\n \n     return [board, view];\n }\n \n /**\n  * Creates a graph from the input string\n  * If the string contains '=' or 'z' it will be assumed it is an implicit function\n  *\n  * @param {String} exp The equation/function as a string\n  * @param {Object} view The mathbox cartesian to add the graph to\n  * @param {Object|null} options Any optional changes, @see {@link standardValues} to see the supported options\n  */\n const createGraph = (exp, view, options = {}) => {\n     if ((''+exp).includes('=') || (''+exp).includes('z')) {\n         console.log('Implicit graph');\n         return createImplicitGraph(exp,view,options);\n     } else if ((''+exp).includes('u') || (''+exp).includes('v')) {\n         console.log('Parametric graph')\n         let [x, y, z] = (''+exp).split(',')\n         return createParametricGraph(x, y, z, view, options)\n     } else {\n         console.log('Explicit graph');\n         return createExplicitGraph(exp, view, options);\n     }\n }\n \n /**\n  * Calculates the minima and maxima of Z\n  *\n  * @param zFunc function to evaluate\n  * @param {[number]} ranges array containing the pre-defined x and y ranges [xmin, xmax, ymin, ymax]\n  * @param {number} resolution the graph resolution\n  * @return {[number, number]} the minima and maxima of z\n  */\n const calculateZRange = (zFunc, ranges, resolution) => {\n     let [xMin, xMax, yMin, yMax] = ranges.map(num => parseFloat(num))\n     var xStep = (xMax - xMin) / resolution;\n     var yStep = (yMax - yMin) / resolution;\n     var zSmallest = zFunc(xMin, xMax);\n     var zBiggest  = zFunc(xMin, yMin);\n     for (var x = xMin; x <= xMax; x += xStep)\n     {\n         for (var y = yMin; y <= yMax; y += yStep)\n         {\n             var z = zFunc(x,y);\n             if (z < zSmallest) zSmallest = z;\n             if (z > zBiggest)  zBiggest  = z;\n         }\n     }\n     let zMin = zSmallest;\n     let zMax = zBiggest;\n     return [zMin, zMax]\n }\n \n /**\n  *\n  * @param {String} x function text of variables u and v to define x\n  * @param {String} y function text of variables u and v to define y\n  * @param {String} z function text of variables u and v to define z\n  * @param {Object} view The mathbox cartesian to add the graph to\n  * @param {Object|null} options Any optional changes, @see {@link standardValues} to see the supported options\n  */\n const createParametricGraph = (x, y, z, view, options = {}) => {\n     options = {\n         ...standardValues,\n         ...options\n     }\n     let ranges = options.ranges.split(';').map(num => parseFloat(num));\n     let resolution = options.resolution\n \n     var\txMin = parseFloat(ranges[0]), xMax = parseFloat(ranges[1]), yMin = parseFloat(ranges[2]),\n         yMax = parseFloat(ranges[3]), zMin = -3, zMax = 3;\n \n     var xFunc = Parser.parse(x).toJSFunction(['u', 'v']);\n     var yFunc = Parser.parse(y).toJSFunction(['u', 'v']);\n     var zFunc = Parser.parse(z).toJSFunction(['u', 'v']);\n \n     // Find the smallest and largest values of z in the range unless overridden\n     if (ranges < 5) {\n         [zMin, zMax] = calculateZRange(zFunc, ranges, resolution).map(num => parseFloat(num));\n     } else {\n         [zMin, zMax] = ranges.slice(-2)\n     }\n \n     var graphColorFunc = createGraphColorFunc(zFunc, zMin, zMax, options);\n \n     var graphData = view.area({\n         axes: [1,3], channels: 3, width: resolution, height: resolution,\n         expr:   function (emit, u, v, i, j, t)\n         {\n             emit( xFunc(u,v), zFunc(u,v), yFunc(u,v) );\n         },\n     });\n \n     var graphColors = view.area({\n         rangeX: [xMin, xMax],\n         rangeY: [yMin, yMax],\n         expr: graphColorFunc,\n         axes: [1,3],\n         width:  resolution, height: resolution,\n         channels: 4, // RGBA\n     });\n \n     // create graph in two parts, because want solid and wireframe to be different colors\n     // shaded:false for a solid color (curve appearance provided by mesh)\n     // width: width of line mesh\n     // note: colors will mult. against color value, so set color to white (#FFFFFF) to let colors have complete control.\n     var graphViewSolid = view.surface({\n         points:graphData,\n         color:\"#FFFFFF\", shaded:false, fill:true, lineX:false, lineY:false, colors:graphColors, visible:true, width:0\n     });\n \n     var graphWireVisible = true;\n     var graphViewWire = view.surface({\n         points: graphData,\n         color:\"#000000\", shaded:false, fill:false, lineX:true, lineY:true, visible:graphWireVisible, width:1\n     });\n \n     return [zMin, zMax]\n }\n \n /**\n  * Subfunction of createGraph used when it is determined to be an implicit function\n  *\n  * @param {String} exp The equation/function as a string\n  * @param {Object} view The mathbox cartesian to add the graph to\n  * @param {Object|null} options Any optional changes, @see {@link standardValues} to see the supported options\n  */\n const createImplicitGraph = (exp, view, options) => {\n     options = {\n         ...standardValues,\n         ...options\n     }\n     // Validate inputs and create the function\n     let resolution = options.resolution;\n     let ranges = options.ranges.split(';').map(num => parseFloat(num));\n     if (ranges.length < 5) {\n         ranges = [ranges[0] ?? -3, ranges[1] ?? 3, ranges[2] ?? -3, ranges[3] ?? 3, ranges[4] ?? -3, ranges[5] ?? 3]\n     }\n     let functions = (''+exp).replace('==', \"=\").split('=');\n     let lhs = Parser.parse(functions[0]);\n     let rhs = Parser.parse(functions[1]);\n     var frankenstein = lhs + '-' + rhs\n     var frankenfunc = Parser.parse(frankenstein).toJSFunction(['x', 'z', 'y'])\n \n     console.log(ranges)\n     // Create the datapoints and insure they aren't too high for mathbox to handle\n     let implicitTriangles = marchingCubes(ranges[0], ranges[1],\n         ranges[2], ranges[3], ranges[4], ranges[5],\n         frankenfunc, 0, resolution);\n     //As mentioned in math3d react, with too many samples it might break\n     var i = 1\n     while(implicitTriangles.length > 5400) {\n         console.log(implicitTriangles.length)\n         implicitTriangles = marchingCubes(ranges[0], ranges[1],\n             ranges[2], ranges[3], ranges[4], ranges[5],\n             frankenfunc,0, (resolution/(2*i)))\n         i++;\n     }\n \n     // Now we create the group and draw the graph\n     var implicitgroup = view.group({\n         visible: true,\n     })\n \n     var points = implicitgroup.array({\n         items: 3,\n         channels: 3,\n         data: implicitTriangles,\n         width: implicitTriangles.length,\n         live: false\n     });\n \n     var surf = implicitgroup.strip({\n         zOrder: 0,\n         color: \"#3090FF\",\n         opacity: 1,\n         zIndex: 0,\n         zBias: 0,\n         shaded: true,\n         fill:true,\n     });\n \n     return [ranges[4], ranges[5]]\n }\n \n /**\n  * Subfunction of createGraph used when it is determined to be an explicit function\n  *\n  * @param {String} exp The equation/function as a string\n  * @param {Object} view The mathbox cartesian to add the graph to\n  * @param {Object|null} options Any optional changes, @see {@link standardValues} to see the supported options\n  */\n const createExplicitGraph = (exp, view, options = {}) => {\n     options = {\n         ...standardValues,\n         ...options\n     }\n     let resolution = options.resolution;\n     let ranges = options.ranges.split(';').map(num => parseFloat(num));\n \n     var functionText = exp;\n \n     var\txMin = parseFloat(ranges[0]), xMax = parseFloat(ranges[1]), yMin = parseFloat(ranges[2]),\n         yMax = parseFloat(ranges[3]), zMin = -3, zMax = 3;\n \n     var zFunc = Parser.parse( functionText ).toJSFunction( ['x','y'] );\n \n     // Find the smallest and largest values of z in the range unless the range is overridden\n     if (ranges.length < 5) {\n         [zMin, zMax] = calculateZRange(zFunc, ranges, resolution).map(num => parseFloat(num))\n     } else {\n         [zMin, zMax] = ranges.slice(-2)\n     }\n \n     var graphColorFunc = createGraphColorFunc(zFunc, zMin, zMax, options);\n \n     var graphData = view.area({\n         axes: [1,3], channels: 3, width: resolution, height: resolution,\n         expr:   function (emit, x, y, i, j, t)\n         {\n             emit( x, zFunc(x,y), y );\n         },\n     });\n \n     var graphColors = view.area({\n         expr: graphColorFunc,\n         axes: [1,3],\n         width:  resolution, height: resolution,\n         channels: 4, // RGBA\n     });\n \n     // create graph in two parts, because want solid and wireframe to be different colors\n     // shaded:false for a solid color (curve appearance provided by mesh)\n     // width: width of line mesh\n     // note: colors will mult. against color value, so set color to white (#FFFFFF) to let colors have complete control.\n     var graphViewSolid = view.surface({\n         points:graphData,\n         color:\"#FFFFFF\", shaded:false, fill:true, lineX:false, lineY:false, colors:graphColors, visible:true, width:0\n     });\n \n     var graphWireVisible = true;\n     var graphViewWire = view.surface({\n         points: graphData,\n         color:\"#000000\", shaded:false, fill:false, lineX:true, lineY:true, visible:graphWireVisible, width:1\n     });\n \n     return [zMin, zMax]\n }\n \n \n /**\n  * Generates color-style based on preset styles specified in the options parameter\n  * @param zFunc A mathematical function parsed to javascript, currently only two variables supported\n  * @param {number} zMin the z-value of the graphs lowest point\n  * @param {number} zMax the z-value of the graphs highest point\n  * @param {Object|null} options Any optional changes, @see {@link standardValues} to see the supported options\n  */\n export const createGraphColorFunc = (zFunc, zMin, zMax, options = {}) => {\n     let graphopacity = options.graphopacity;\n \n     var graphColorFunc, graphColorStyle = options['graphcolorstyle'];\n \n     if (graphColorStyle == 'grayscale') {\n         graphColorFunc = (emit, x, y, i, j, t) => {\n             var z = zFunc(x,y);\n             var percent = (z - zMin) / (zMax - zMin);\n             emit( percent, percent, percent, graphopacity ?? 1.0 );\n         }\n     } else if (graphColorStyle == 'rainbow') {\n         graphColorFunc = (emit, x, y, i, j, t) => {\n             var z = zFunc(x,y);\n             var percent = (z - 1.2 * zMin) / (zMax - 1.2 * zMin);\n             var color = new THREE.Color( 0xffffff );\n             color.setHSL( 1-percent, 1, 0.5 );\n             emit( color.r, color.g, color.b, graphopacity ?? 0.8 );\n         }\n     } else if (graphColorStyle == 'lightblue') {\n         graphColorFunc = (emit, x, y, i, j, t) => {\n             emit(0, 0.6, 0.9, graphopacity ?? 0.9);\n         };\n     } else if (graphColorStyle == 'solidblue') {\n         graphColorFunc = (emit, x, y, i, j, t) => {\n             emit( 0.5, 0.5, 1.0, graphopacity ?? 1.0 );\n         };\n     }\n     return graphColorFunc;\n }\n \n /**\n  * Creates references tied to the window object to allow non-module scripts to use its functions\n  */\n export const initMethods = () => {\n     var threed = {};\n     threed['createParametricGraph'] = createParametricGraph;\n     threed['createExplicitGraph'] = createExplicitGraph;\n     threed['createImplicitGraph'] = createImplicitGraph;\n \n     threed['createMathbox'] = createMathBox;\n     threed['createGraph'] = createGraph;\n     threed['createGraphColorFunc'] = createGraphColorFunc;\n     window['threed'] = threed;\n }\n "],"file":"threedradio.min.js"}