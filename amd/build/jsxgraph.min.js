<<<<<<< HEAD
define ("qtype_stack/jsxgraph",["qtype_stack/jsxgraphcore"],function(a){return{find_input_id:function find_input_id(a,b){var c=document.getElementById(a);while((c=c.parentElement)&&!(c.classList.contains("formulation")&&c.parentElement.classList.contains("content"))){}c=c.querySelector("input[id$=\"_"+b+"\"]");c.addEventListener("change",function(){M.core_formchangechecker.set_form_changed()});return c.id},bind_point:function bind_point(b,c){var d=document.getElementById(b);if(d.value&&""!=d.value){var e=JSON.parse(d.value);try{c.setPosition(a.COORDS_BY_USER,e)}catch(a){}c.board.update();c.update()}var f=c.X(),g=c.Y();c.board.on("update",function(){if(f!==c.X()||g!==c.Y()){var a=JSON.stringify([c.X(),c.Y()]);f=!1;g=!1;if(d.value!=a){d.value=a;if(-1===window.location.pathname.indexOf("preview.php")){var b=new Event("change");d.dispatchEvent(b)}}}});var h=JSON.stringify([c.X(),c.Y()]);d.addEventListener("input",function(){if(d.value!=h){try{var b=JSON.parse(d.value);if("number"==typeof b[0]&&"number"==typeof b[1]){c.setPosition(a.COORDS_BY_USER,b);c.board.update();c.update()}}catch(a){}h=d.value}});d.addEventListener("change",function(){if(d.value!=h){try{var b=JSON.parse(d.value);if("number"==typeof b[0]&&"number"==typeof b[1]){c.setPosition(a.COORDS_BY_USER,b);c.board.update();c.update()}}catch(a){}h=d.value}})},bind_point_dual:function bind_point_dual(b,c,d){var f=document.getElementById(b);if(f.value&&""!=f.value){var g=JSON.parse(f.value);try{c.setPosition(a.COORDS_BY_USER,g[0]);d.setPosition(a.COORDS_BY_USER,g[1])}catch(a){}c.board.update();c.update();d.board.update();d.update()}var h=c.X(),i=c.Y();c.board.on("update",function(){if(h!==c.X()||i!==c.Y()){var a=JSON.stringify([[c.X(),c.Y()],[d.X(),d.Y()]]);h=!1;i=!1;if(f.value!=a){f.value=a;if(-1===window.location.pathname.indexOf("preview.php")){var b=new Event("change");f.dispatchEvent(b)}}}});var j=d.X(),k=d.Y();d.board.on("update",function(){if(j!==d.X()||k!==d.Y()){var a=JSON.stringify([[c.X(),c.Y()],[d.X(),d.Y()]]);j=!1;k=!1;if(f.value!=a){f.value=a;if(-1===window.location.pathname.indexOf("preview.php")){var b=new Event("change");f.dispatchEvent(b)}}}});var l=JSON.stringify([[c.X(),c.Y()],[d.X(),d.Y()]]);f.addEventListener("input",function(){if(f.value!=l){try{var b=JSON.parse(f.value);if("number"==typeof b[0][0]&&"number"==typeof b[0][1]){c.setPosition(a.COORDS_BY_USER,b[0])}if("number"==typeof b[1][0]&&"number"==typeof b[1][1]){d.setPosition(a.COORDS_BY_USER,b[1]);c.board.update();c.update();d.board.update();d.update()}}catch(a){}l=f.value}});f.addEventListener("change",function(){if(f.value!=l){try{var b=JSON.parse(f.value);if("number"==typeof b[0][0]&&"number"==typeof b[0][1]){c.setPosition(a.COORDS_BY_USER,b[0])}if("number"==typeof b[1][0]&&"number"==typeof b[1][1]){d.setPosition(a.COORDS_BY_USER,b[1]);c.board.update();c.update();d.board.update();d.update()}}catch(a){}l=f.value}})},bind_point_relative:function bind_point_relative(c,d,f){var g=document.getElementById(c);if(g.value&&""!=g.value){var h=JSON.parse(g.value);try{d.setPosition(a.COORDS_BY_USER,h[0]);var i=[h[0][0]+h[1][0],h[0][1]+h[1][1]];f.setPosition(a.COORDS_BY_USER,i)}catch(a){}d.board.update();d.update();f.board.update();f.update()}var b=d.X(),j=d.Y();d.board.on("update",function(){if(b!==d.X()||j!==d.Y()){var a=JSON.stringify([[d.X(),d.Y()],[f.X()-d.X(),f.Y()-d.Y()]]);b=!1;j=!1;if(g.value!=a){g.value=a;if(-1===window.location.pathname.indexOf("preview.php")){var c=new Event("change");g.dispatchEvent(c)}}}});var k=f.X(),l=f.Y();f.board.on("update",function(){if(k!==f.X()||l!==f.Y()){var a=JSON.stringify([[d.X(),d.Y()],[f.X()-d.X(),f.Y()-d.Y()]]);k=!1;l=!1;if(g.value!=a){g.value=a;if(-1===window.location.pathname.indexOf("preview.php")){var b=new Event("change");g.dispatchEvent(b)}}}});var m=JSON.stringify([[d.X(),d.Y()],[f.X()-d.X(),f.Y()-d.Y()]]);g.addEventListener("input",function(){if(g.value!=m){try{var c=JSON.parse(g.value);if("number"==typeof c[0][0]&&"number"==typeof c[0][1]){d.setPosition(a.COORDS_BY_USER,c[0])}if("number"==typeof c[1][0]&&"number"==typeof c[1][1]){var e=[c[0][0]+c[1][0],c[0][1]+c[1][1]];f.setPosition(a.COORDS_BY_USER,e);d.board.update();d.update();f.board.update();f.update()}}catch(a){}m=g.value}});g.addEventListener("change",function(){if(g.value!=m){try{var c=JSON.parse(g.value);if("number"==typeof c[0][0]&&"number"==typeof c[0][1]){d.setPosition(a.COORDS_BY_USER,c[0])}if("number"==typeof c[1][0]&&"number"==typeof c[1][1]){var e=[c[0][0]+c[1][0],c[0][1]+c[1][1]];f.setPosition(a.COORDS_BY_USER,e);d.board.update();d.update();f.board.update();f.update()}}catch(a){}m=g.value}})},bind_point_direction:function bind_point_direction(c,d,f){var g=document.getElementById(c);if(g.value&&""!=g.value){var h=JSON.parse(g.value);try{d.setPosition(a.COORDS_BY_USER,h[0]);var i=h[1][0],j=h[1][1],k=[h[0][0],h[0][1]];if(0<j){k[0]=k[0]+j*Math.cos(i);k[1]=k[1]+j*Math.sin(i)}f.setPosition(a.COORDS_BY_USER,k)}catch(a){}d.board.update();d.update();f.board.update();f.update()}var b=d.X(),l=d.Y();d.board.on("update",function(){if(b!==d.X()||l!==d.Y()){var a=JSON.stringify([[d.X(),d.Y()],[Math.atan2(f.Y()-d.Y(),f.X()-d.X()),Math.sqrt((f.X()-d.X())*(f.X()-d.X())+(f.Y()-d.Y())*(f.Y()-d.Y()))]]);b=!1;l=!1;if(g.value!=a){g.value=a;if(-1===window.location.pathname.indexOf("preview.php")){var c=new Event("change");g.dispatchEvent(c)}}}});var m=f.X(),n=f.Y();f.board.on("update",function(){if(m!==f.X()||n!==f.Y()){var a=JSON.stringify([[d.X(),d.Y()],[Math.atan2(f.Y()-d.Y(),f.X()-d.X()),Math.sqrt((f.X()-d.X())*(f.X()-d.X())+(f.Y()-d.Y())*(f.Y()-d.Y()))]]);m=!1;n=!1;if(g.value!=a){g.value=a;if(-1===window.location.pathname.indexOf("preview.php")){var b=new Event("change");g.dispatchEvent(b)}}}});var o=JSON.stringify([[d.X(),d.Y()],[Math.atan2(f.Y()-d.Y(),f.X()-d.X()),Math.sqrt((f.X()-d.X())*(f.X()-d.X())+(f.Y()-d.Y())*(f.Y()-d.Y()))]]);g.addEventListener("input",function(){if(g.value!=o){try{var c=JSON.parse(g.value);if("number"==typeof c[0][0]&&"number"==typeof c[0][1]){d.setPosition(a.COORDS_BY_USER,c[0])}if("number"==typeof c[1][0]&&"number"==typeof c[1][1]){var e=c[1][0],h=c[1][1],i=[c[0][0],c[0][1]];if(0<h){i[0]=i[0]+h*Math.cos(e);i[1]=i[1]+h*Math.sin(e)}f.setPosition(a.COORDS_BY_USER,i);d.board.update();d.update();f.board.update();f.update()}}catch(a){}o=g.value}});g.addEventListener("change",function(){if(g.value!=o){try{var c=JSON.parse(g.value);if("number"==typeof c[0][0]&&"number"==typeof c[0][1]){d.setPosition(a.COORDS_BY_USER,c[0])}if("number"==typeof c[1][0]&&"number"==typeof c[1][1]){var e=c[1][0],h=c[1][1],i=[c[0][0],c[0][1]];if(0<h){i[0]=i[0]+h*Math.cos(e);i[1]=i[1]+h*Math.sin(e)}f.setPosition(a.COORDS_BY_USER,i);d.board.update();d.update();f.board.update();f.update()}}catch(a){}o=g.value}})},bind_slider:function bind_slider(a,b){var c=document.getElementById(a);if(c.value&&""!=c.value){try{b.setValue(JSON.parse(c.value))}catch(a){}b.board.update();b.update()}var d=b.Value();b.board.on("update",function(){if(d!=b.Value()){var a=JSON.stringify(b.Value());d=!1;if(c.value!=a){c.value=a;if(-1===window.location.pathname.indexOf("preview.php")){var f=new Event("change");c.dispatchEvent(f)}}}});var e=JSON.stringify(b.Value());c.addEventListener("input",function(){if(c.value!==e){try{var a=JSON.parse(c.value);if("number"==typeof a){b.setValue(a);b.board.update();b.update()}}catch(a){}e=c.value}});c.addEventListener("change",function(){if(c.value!==e){try{var a=JSON.parse(c.value);if("number"==typeof a){b.setValue(a);b.board.update();b.update()}}catch(a){}e=c.value}})}}});
//# sourceMappingURL=jsxgraph.min.js.map
=======
define("qtype_stack/jsxgraph",["qtype_stack/jsxgraphcore-lazy"],(function(JXG){return{find_input_id:function(divid,name){for(var tmp=document.getElementById(divid);(tmp=tmp.parentElement)&&(!tmp.classList.contains("formulation")||!tmp.parentElement.classList.contains("content")););return(tmp=tmp.querySelector('input[id$="_'+name+'"]')).addEventListener("change",(function(){M.core_formchangechecker.set_form_changed()})),tmp.id},bind_point:function(inputRef,point){var theInput=document.getElementById(inputRef);if(theInput.value&&""!=theInput.value){var coords=JSON.parse(theInput.value);try{point.setPosition(JXG.COORDS_BY_USER,coords)}catch(err){}point.board.update(),point.update()}var initialX=point.X(),initialY=point.Y();point.board.on("update",(function(){if(initialX!==point.X()||initialY!==point.Y()){var tmp=JSON.stringify([point.X(),point.Y()]);if(initialX=!1,initialY=!1,theInput.value!=tmp&&(theInput.value=tmp,-1===window.location.pathname.indexOf("preview.php"))){var e=new Event("change");theInput.dispatchEvent(e)}}}));var lastValue=JSON.stringify([point.X(),point.Y()]);theInput.addEventListener("input",(function(){if(theInput.value!=lastValue){try{var tmp=JSON.parse(theInput.value);"number"==typeof tmp[0]&&"number"==typeof tmp[1]&&(point.setPosition(JXG.COORDS_BY_USER,tmp),point.board.update(),point.update())}catch(err){}lastValue=theInput.value}})),theInput.addEventListener("change",(function(){if(theInput.value!=lastValue){try{var tmp=JSON.parse(theInput.value);"number"==typeof tmp[0]&&"number"==typeof tmp[1]&&(point.setPosition(JXG.COORDS_BY_USER,tmp),point.board.update(),point.update())}catch(err){}lastValue=theInput.value}}))},bind_point_dual:function(inputRef,point1,point2){var theInput=document.getElementById(inputRef);if(theInput.value&&""!=theInput.value){var coords=JSON.parse(theInput.value);try{point1.setPosition(JXG.COORDS_BY_USER,coords[0]),point2.setPosition(JXG.COORDS_BY_USER,coords[1])}catch(err){}point1.board.update(),point1.update(),point2.board.update(),point2.update()}var initial1X=point1.X(),initial1Y=point1.Y();point1.board.on("update",(function(){if(initial1X!==point1.X()||initial1Y!==point1.Y()){var tmp=JSON.stringify([[point1.X(),point1.Y()],[point2.X(),point2.Y()]]);if(initial1X=!1,initial1Y=!1,theInput.value!=tmp&&(theInput.value=tmp,-1===window.location.pathname.indexOf("preview.php"))){var e=new Event("change");theInput.dispatchEvent(e)}}}));var initial2X=point2.X(),initial2Y=point2.Y();point2.board.on("update",(function(){if(initial2X!==point2.X()||initial2Y!==point2.Y()){var tmp=JSON.stringify([[point1.X(),point1.Y()],[point2.X(),point2.Y()]]);if(initial2X=!1,initial2Y=!1,theInput.value!=tmp&&(theInput.value=tmp,-1===window.location.pathname.indexOf("preview.php"))){var e=new Event("change");theInput.dispatchEvent(e)}}}));var lastValue=JSON.stringify([[point1.X(),point1.Y()],[point2.X(),point2.Y()]]);theInput.addEventListener("input",(function(){if(theInput.value!=lastValue){try{var tmp=JSON.parse(theInput.value);"number"==typeof tmp[0][0]&&"number"==typeof tmp[0][1]&&point1.setPosition(JXG.COORDS_BY_USER,tmp[0]),"number"==typeof tmp[1][0]&&"number"==typeof tmp[1][1]&&(point2.setPosition(JXG.COORDS_BY_USER,tmp[1]),point1.board.update(),point1.update(),point2.board.update(),point2.update())}catch(err){}lastValue=theInput.value}})),theInput.addEventListener("change",(function(){if(theInput.value!=lastValue){try{var tmp=JSON.parse(theInput.value);"number"==typeof tmp[0][0]&&"number"==typeof tmp[0][1]&&point1.setPosition(JXG.COORDS_BY_USER,tmp[0]),"number"==typeof tmp[1][0]&&"number"==typeof tmp[1][1]&&(point2.setPosition(JXG.COORDS_BY_USER,tmp[1]),point1.board.update(),point1.update(),point2.board.update(),point2.update())}catch(err){}lastValue=theInput.value}}))},bind_point_relative:function(inputRef,point1,point2){var theInput=document.getElementById(inputRef);if(theInput.value&&""!=theInput.value){var coords=JSON.parse(theInput.value);try{point1.setPosition(JXG.COORDS_BY_USER,coords[0]);var b=[coords[0][0]+coords[1][0],coords[0][1]+coords[1][1]];point2.setPosition(JXG.COORDS_BY_USER,b)}catch(err){}point1.board.update(),point1.update(),point2.board.update(),point2.update()}var initial1X=point1.X(),initial1Y=point1.Y();point1.board.on("update",(function(){if(initial1X!==point1.X()||initial1Y!==point1.Y()){var tmp=JSON.stringify([[point1.X(),point1.Y()],[point2.X()-point1.X(),point2.Y()-point1.Y()]]);if(initial1X=!1,initial1Y=!1,theInput.value!=tmp&&(theInput.value=tmp,-1===window.location.pathname.indexOf("preview.php"))){var e=new Event("change");theInput.dispatchEvent(e)}}}));var initial2X=point2.X(),initial2Y=point2.Y();point2.board.on("update",(function(){if(initial2X!==point2.X()||initial2Y!==point2.Y()){var tmp=JSON.stringify([[point1.X(),point1.Y()],[point2.X()-point1.X(),point2.Y()-point1.Y()]]);if(initial2X=!1,initial2Y=!1,theInput.value!=tmp&&(theInput.value=tmp,-1===window.location.pathname.indexOf("preview.php"))){var e=new Event("change");theInput.dispatchEvent(e)}}}));var lastValue=JSON.stringify([[point1.X(),point1.Y()],[point2.X()-point1.X(),point2.Y()-point1.Y()]]);theInput.addEventListener("input",(function(){if(theInput.value!=lastValue){try{var tmp=JSON.parse(theInput.value);if("number"==typeof tmp[0][0]&&"number"==typeof tmp[0][1]&&point1.setPosition(JXG.COORDS_BY_USER,tmp[0]),"number"==typeof tmp[1][0]&&"number"==typeof tmp[1][1]){var b=[tmp[0][0]+tmp[1][0],tmp[0][1]+tmp[1][1]];point2.setPosition(JXG.COORDS_BY_USER,b),point1.board.update(),point1.update(),point2.board.update(),point2.update()}}catch(err){}lastValue=theInput.value}})),theInput.addEventListener("change",(function(){if(theInput.value!=lastValue){try{var tmp=JSON.parse(theInput.value);if("number"==typeof tmp[0][0]&&"number"==typeof tmp[0][1]&&point1.setPosition(JXG.COORDS_BY_USER,tmp[0]),"number"==typeof tmp[1][0]&&"number"==typeof tmp[1][1]){var b=[tmp[0][0]+tmp[1][0],tmp[0][1]+tmp[1][1]];point2.setPosition(JXG.COORDS_BY_USER,b),point1.board.update(),point1.update(),point2.board.update(),point2.update()}}catch(err){}lastValue=theInput.value}}))},bind_point_direction:function(inputRef,point1,point2){var theInput=document.getElementById(inputRef);if(theInput.value&&""!=theInput.value){var coords=JSON.parse(theInput.value);try{point1.setPosition(JXG.COORDS_BY_USER,coords[0]);var angle=coords[1][0],len=coords[1][1],b=[coords[0][0],coords[0][1]];len>0&&(b[0]=b[0]+len*Math.cos(angle),b[1]=b[1]+len*Math.sin(angle)),point2.setPosition(JXG.COORDS_BY_USER,b)}catch(err){}point1.board.update(),point1.update(),point2.board.update(),point2.update()}var initial1X=point1.X(),initial1Y=point1.Y();point1.board.on("update",(function(){if(initial1X!==point1.X()||initial1Y!==point1.Y()){var tmp=JSON.stringify([[point1.X(),point1.Y()],[Math.atan2(point2.Y()-point1.Y(),point2.X()-point1.X()),Math.sqrt((point2.X()-point1.X())*(point2.X()-point1.X())+(point2.Y()-point1.Y())*(point2.Y()-point1.Y()))]]);if(initial1X=!1,initial1Y=!1,theInput.value!=tmp&&(theInput.value=tmp,-1===window.location.pathname.indexOf("preview.php"))){var e=new Event("change");theInput.dispatchEvent(e)}}}));var initial2X=point2.X(),initial2Y=point2.Y();point2.board.on("update",(function(){if(initial2X!==point2.X()||initial2Y!==point2.Y()){var tmp=JSON.stringify([[point1.X(),point1.Y()],[Math.atan2(point2.Y()-point1.Y(),point2.X()-point1.X()),Math.sqrt((point2.X()-point1.X())*(point2.X()-point1.X())+(point2.Y()-point1.Y())*(point2.Y()-point1.Y()))]]);if(initial2X=!1,initial2Y=!1,theInput.value!=tmp&&(theInput.value=tmp,-1===window.location.pathname.indexOf("preview.php"))){var e=new Event("change");theInput.dispatchEvent(e)}}}));var lastValue=JSON.stringify([[point1.X(),point1.Y()],[Math.atan2(point2.Y()-point1.Y(),point2.X()-point1.X()),Math.sqrt((point2.X()-point1.X())*(point2.X()-point1.X())+(point2.Y()-point1.Y())*(point2.Y()-point1.Y()))]]);theInput.addEventListener("input",(function(){if(theInput.value!=lastValue){try{var tmp=JSON.parse(theInput.value);if("number"==typeof tmp[0][0]&&"number"==typeof tmp[0][1]&&point1.setPosition(JXG.COORDS_BY_USER,tmp[0]),"number"==typeof tmp[1][0]&&"number"==typeof tmp[1][1]){var angle=tmp[1][0],len=tmp[1][1],b=[tmp[0][0],tmp[0][1]];len>0&&(b[0]=b[0]+len*Math.cos(angle),b[1]=b[1]+len*Math.sin(angle)),point2.setPosition(JXG.COORDS_BY_USER,b),point1.board.update(),point1.update(),point2.board.update(),point2.update()}}catch(err){}lastValue=theInput.value}})),theInput.addEventListener("change",(function(){if(theInput.value!=lastValue){try{var tmp=JSON.parse(theInput.value);if("number"==typeof tmp[0][0]&&"number"==typeof tmp[0][1]&&point1.setPosition(JXG.COORDS_BY_USER,tmp[0]),"number"==typeof tmp[1][0]&&"number"==typeof tmp[1][1]){var angle=tmp[1][0],len=tmp[1][1],b=[tmp[0][0],tmp[0][1]];len>0&&(b[0]=b[0]+len*Math.cos(angle),b[1]=b[1]+len*Math.sin(angle)),point2.setPosition(JXG.COORDS_BY_USER,b),point1.board.update(),point1.update(),point2.board.update(),point2.update()}}catch(err){}lastValue=theInput.value}}))},bind_slider:function(inputRef,slider){var theInput=document.getElementById(inputRef);if(theInput.value&&""!=theInput.value){try{slider.setValue(JSON.parse(theInput.value))}catch(err){}slider.board.update(),slider.update()}var initialValue=slider.Value();slider.board.on("update",(function(){if(initialValue!=slider.Value()){var tmp=JSON.stringify(slider.Value());if(initialValue=!1,theInput.value!=tmp&&(theInput.value=tmp,-1===window.location.pathname.indexOf("preview.php"))){var e=new Event("change");theInput.dispatchEvent(e)}}}));var lastValue=JSON.stringify(slider.Value());theInput.addEventListener("input",(function(){if(theInput.value!==lastValue){try{var tmp=JSON.parse(theInput.value);"number"==typeof tmp&&(slider.setValue(tmp),slider.board.update(),slider.update())}catch(err){}lastValue=theInput.value}})),theInput.addEventListener("change",(function(){if(theInput.value!==lastValue){try{var tmp=JSON.parse(theInput.value);"number"==typeof tmp&&(slider.setValue(tmp),slider.board.update(),slider.update())}catch(err){}lastValue=theInput.value}}))}}}));

//# sourceMappingURL=jsxgraph.min.js.map
>>>>>>> master
