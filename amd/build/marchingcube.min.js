define("qtype_stack/marchingcube",["exports","./triangletable"],(function(_exports,_triangletable){function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=function(xMin,xMax,yMin,yMax,zMin,zMax,func){for(var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,resolution=arguments.length>8&&void 0!==arguments[8]?arguments[8]:128,xStep=(xMax-xMin)/resolution,yStep=(yMax-yMin)/resolution,zStep=(zMax-zMin)/resolution,finalTriangles=[],x=xMin;x<xMax;x+=xStep)for(var y=yMin;y<yMax;y+=yStep)for(var z=zMin;z<zMax;z+=zStep)for(var cube=new MarchingCube(x,y,z,xStep,yStep,zStep,func,c),cubeCase=_triangletable.triangleTable[cube.getIndex()],i=0;i<cubeCase.length;i++){var triangle=cubeCase[i];finalTriangles.push([cube.getEdgePoint(triangle[0]),cube.getEdgePoint(triangle[1]),cube.getEdgePoint(triangle[2])])}return finalTriangles};var MarchingCube=function(){function MarchingCube(x,y,z,xStep,yStep,zStep,func,c){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,MarchingCube),this.x=x,this.y=y,this.z=z,this.xStep=xStep,this.yStep=yStep,this.zStep=zStep,this.c=c,this.v1=func(x,y,z),this.v2=func(x+xStep,y,z),this.v4=func(x+xStep,y,z+zStep),this.v8=func(x,y,z+zStep),this.v16=func(x,y+yStep,z),this.v32=func(x+xStep,y+yStep,z),this.v64=func(x+xStep,y+yStep,z+zStep),this.v128=func(x,y+yStep,z+zStep),this.edgePoints=new Map}var Constructor,protoProps,staticProps;return Constructor=MarchingCube,(protoProps=[{key:"getIndex",value:function(){for(var index=0,values=[this.v1,this.v2,this.v4,this.v8,this.v16,this.v32,this.v64,this.v128],i=0;i<values.length;i++){var bit=Math.pow(2,i);index+=(values[i]>this.c)*bit}return index}},{key:"getEdgePoint",value:function(edgeIndex){if(this.edgePoints.has(edgeIndex))return this.edgePoints.get(edgeIndex);var x,y,z;switch(edgeIndex){case 0:x=interp(this.x,this.x+this.xStep,this.v1,this.v2,this.c),y=this.y,z=this.z;break;case 1:x=this.x+this.xStep,y=this.y,z=interp(this.z,this.z+this.zStep,this.v2,this.v4,this.c);break;case 2:x=interp(this.x,this.x+this.xStep,this.v8,this.v4,this.c),y=this.y,z=this.z+this.zStep;break;case 3:x=this.x,y=this.y,z=interp(this.z,this.z+this.zStep,this.v1,this.v8,this.c);break;case 4:x=interp(this.x,this.x+this.xStep,this.v16,this.v32,this.c),y=this.y+this.yStep,z=this.z;break;case 5:x=this.x+this.xStep,y=this.y+this.yStep,z=interp(this.z,this.z+this.zStep,this.v32,this.v64,this.c);break;case 6:x=interp(this.x,this.x+this.xStep,this.v128,this.v64,this.c),y=this.y+this.yStep,z=this.z+this.zStep;break;case 7:x=this.x,y=this.y+this.yStep,z=interp(this.z,this.z+this.zStep,this.v16,this.v128,this.c);break;case 8:x=this.x,y=interp(this.y,this.y+this.yStep,this.v1,this.v16,this.c),z=this.z;break;case 9:x=this.x+this.xStep,y=interp(this.y,this.y+this.yStep,this.v2,this.v32,this.c),z=this.z;break;case 10:x=this.x+this.xStep,y=interp(this.y,this.y+this.yStep,this.v4,this.v64,this.c),z=this.z+this.zStep;break;case 11:x=this.x,y=interp(this.y,this.y+this.yStep,this.v8,this.v128,this.c),z=this.z+this.zStep;break;default:throw new Error("Edge index must be between 0 and 11")}return this.edgePoints.set(edgeIndex,[x,y,z]),[x,y,z]}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),MarchingCube}();function interp(x1,x2,a,b,c){var t=(c-a)/(b-a);return x1*(1-t)+x2*t}return _exports.default}));

//# sourceMappingURL=marchingcube.min.js.map