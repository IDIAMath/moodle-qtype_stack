define ("qtype_stack/threedradio",["exports","./marchingcube"],function(a,b){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.initMethods=a.createGraphColorFunc=a.createCanvas=a.threedradio=void 0;b=function(a){return a&&a.__esModule?a:{default:a}}(b);function c(a,b){return h(a)||g(a,b)||e(a,b)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function e(a,b){if(!a)return;if("string"==typeof a)return f(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor)c=a.constructor.name;if("Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return f(a,b)}function f(a,b){if(null==b||b>a.length)b=a.length;for(var c=0,d=Array(b);c<b;c++){d[c]=a[c]}return d}function g(a,b){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(a)))return;var c=[],d=!0,e=!1,f=void 0;try{for(var g=a[Symbol.iterator](),h;!(d=(h=g.next()).done);d=!0){c.push(h.value);if(b&&c.length===b)break}}catch(a){e=!0;f=a}finally{try{if(!d&&null!=g["return"])g["return"]()}finally{if(e)throw f}}return c}function h(a){if(Array.isArray(a))return a}function i(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);if(b)d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable});c.push.apply(c,d)}return c}function j(a){for(var b=1,c;b<arguments.length;b++){c=null!=arguments[b]?arguments[b]:{};if(b%2){i(Object(c),!0).forEach(function(b){k(a,b,c[b])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(a,Object.getOwnPropertyDescriptors(c))}else{i(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}}return a}function k(a,b,c){if(b in a){Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0})}else{a[b]=c}return a}var l={backgroundcolor:"white",graphcolorstyle:"lightblue",disableaxes:!1,ranges:"-3;3;-3;3",resolution:64,graphopacity:null,canvaswidth:"80%",canvasheight:null};a.threedradio=function threedradio(a,b,c){var d,e;c=j({},l,{},c);if(null==b||""==b)return null;b=b.slice(6,b.length-7);var f=document.getElementById(a).parentNode;f.style.width=null!==(d=c.canvaswidth)&&void 0!==d?d:"80%";f.style.height=null!==(e=c.canvasheight)&&void 0!==e?e:0;if("0px"==f.style.height){f.style.paddingBottom="50%"}f.style.margin="10px";f.style.display="inline-flex";var g=function(){if("undefined"==typeof board||"undefined"==typeof Parser){setTimeout(g,100)}else{n(f,b,c)}};g()};var m=function(a,b){var c,d,e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};e=j({},l,{},e);console.log(a);var f=document.createElement("div");f.style.width=null!==(c=e.canvaswidth)&&void 0!==c?c:"80%";f.style.height=null!==(d=e.canvasheight)&&void 0!==d?d:"0";f.style.paddingBottom="50%";f.style.margin="10px";f.style.display="inline-flex";a.appendChild(f);return n(f,b,e)},n=function(a,b){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};d=j({},l,{},d);var e=d.resolution,f=d.disableaxes,g=d.ranges.split(";").map(function(a){return parseFloat(a)}),h=parseFloat(g[0]),i=parseFloat(g[1]),k=parseFloat(g[2]),m=parseFloat(g[3]),n=-3,q=3;if(4<g.length){n=parseFloat(g[4]);q=parseFloat(g[5])}var r=JXG.JSXGraph.initBoard(divId,{boundingbox:[-5,5,5,-5],keepaspectratio:!1,axis:!1,grid:!0}),s=[-5,-5],t=r.create("view3d",[[-6,-3],[8,8],[s,s,s]],{xPlaneRear:{visible:!1},yPlaneRear:{visible:!1}});if(null!=b&&""!=b){var N=Parser.parse(b).toJSFunction(["x","y"]);if(4>=g.length){var u=p(N,g,e).map(function(a){return parseFloat(a)}),v=c(u,2);n=v[0];q=v[1]}var w=o(b,t,d),x=c(w,2);n=x[0];q=x[1]}t.set("range",[[h,i],[n,q],[k,m]]);r.camera({proxy:!0,position:[4,2,4]});if(!f){var y=t.axis({axis:1,width:8,zIndex:1,detail:40,color:"red"}),z=t.scale({axis:1,divide:10,nice:!0,zero:!0}),A=t.ticks({width:5,size:15,color:"red",zBias:2}),B=t.format({digits:2,font:"Arial",weight:"bold",style:"normal",source:z}),C=t.label({color:"red",zIndex:1,offset:[0,-20],points:z,text:B}),D=t.axis({axis:3,width:8,detail:40,color:"green"}),E=t.scale({axis:3,divide:5,nice:!0,zero:!1}),F=t.ticks({width:5,size:15,color:"green",zBias:2}),G=t.format({digits:2,font:"Arial",weight:"bold",style:"normal",source:E}),H=t.label({color:"green",zIndex:1,offset:[0,0],points:E,text:G}),I=t.axis({axis:2,width:8,detail:40,color:"blue"}),J=t.scale({axis:2,divide:5,nice:!0,zero:!1}),K=t.ticks({width:5,size:15,color:"blue",zBias:2}),L=t.format({digits:2,font:"Arial",weight:"bold",style:"normal",source:J}),M=t.label({color:"blue",zIndex:1,offset:[0,0],points:J,text:L})}t.grid({axes:[1,3],width:2,divideX:20,divideY:20,opacity:.25});if(d.hasOwnProperty("backgroundcolor")){r.three.renderer.setClearColor(d.backgroundcolor)}return[r,t]};a.createCanvas=n;var o=function(a,b){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};if((""+a).includes("=")||(""+a).includes("z")){console.log("Implicit graph");return r(a,b,d)}else if((""+a).includes("u")||(""+a).includes("v")){console.log("Parametric graph");var e=(""+a).split(","),f=c(e,3),g=f[0],h=f[1],i=f[2];return q(g,h,i,b,d)}else{console.log("Explicit graph");return s(a,b,d)}},p=function(a,b,d){for(var e=b.map(function(a){return parseFloat(a)}),f=c(e,4),g=f[0],h=f[1],i=f[2],j=f[3],k=a(g,h),l=a(g,i),m=g;m<=h;m+=(h-g)/d){for(var n=i,o;n<=j;n+=(j-i)/d){o=a(m,n);if(o<k)k=o;if(o>l)l=o}}var p=k,q=l;return[p,q]},q=function(a,b,d,e){var f=4<arguments.length&&arguments[4]!==void 0?arguments[4]:{};f=j({},l,{},f);var g=f.ranges.split(";").map(function(a){return parseFloat(a)}),h=f.resolution,i=parseFloat(g[0]),k=parseFloat(g[1]),m=parseFloat(g[2]),n=parseFloat(g[3]),o=-3,q=3,r=Parser.parse(a).toJSFunction(["u","v"]),s=Parser.parse(b).toJSFunction(["u","v"]),w=Parser.parse(d).toJSFunction(["u","v"]);if(5>g){var x=p(w,g,h).map(function(a){return parseFloat(a)}),y=c(x,2);o=y[0];q=y[1]}else{var z=g.slice(-2),A=c(z,2);o=A[0];q=A[1]}var B=t(w,o,q,f),C=e.area({axes:[1,3],channels:3,width:h,height:h,expr:function expr(a,b,c){a(r(b,c),w(b,c),s(b,c))}}),D=e.area({rangeX:[i,k],rangeY:[m,n],expr:B,axes:[1,3],width:h,height:h,channels:4}),E=e.surface({points:C,color:"#FFFFFF",shaded:!1,fill:!0,lineX:!1,lineY:!1,colors:D,visible:!0,width:0}),F=e.surface({points:C,color:"#000000",shaded:!1,fill:!1,lineX:!0,lineY:!0,visible:!0,width:1});return[o,q]},r=function(a,c,d){d=j({},l,{},d);var e=d.resolution,f=d.ranges.split(";").map(function(a){return parseFloat(a)});if(5>f.length){var g,h,k,m,n,o;f=[null!==(g=f[0])&&void 0!==g?g:-3,null!==(h=f[1])&&void 0!==h?h:3,null!==(k=f[2])&&void 0!==k?k:-3,null!==(m=f[3])&&void 0!==m?m:3,null!==(n=f[4])&&void 0!==n?n:-3,null!==(o=f[5])&&void 0!==o?o:3]}var p=(""+a).replace("==","=").split("="),q=Parser.parse(p[0]),r=Parser.parse(p[1]),s=Parser.parse(q+"-"+r).toJSFunction(["x","z","y"]);console.log(f);var t=(0,b.default)(f[0],f[1],f[2],f[3],f[4],f[5],s,0,e),u=1;while(5400<t.length){console.log(t.length);t=(0,b.default)(f[0],f[1],f[2],f[3],f[4],f[5],s,0,e/(2*u));u++}var v=c.group({visible:!0}),w=v.array({items:3,channels:3,data:t,width:t.length,live:!1}),x=v.strip({zOrder:0,color:"#3090FF",opacity:1,zIndex:0,zBias:0,shaded:!0,fill:!0});return[f[4],f[5]]},s=function(a,b){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};d=j({},l,{},d);var e=d.resolution,f=d.ranges.split(";").map(function(a){return parseFloat(a)}),g=parseFloat(f[0]),h=parseFloat(f[1]),i=parseFloat(f[2]),k=parseFloat(f[3]),m=-3,n=3,o=Parser.parse(a).toJSFunction(["x","y"]);if(5>f.length){var q=p(o,f,e).map(function(a){return parseFloat(a)}),r=c(q,2);m=r[0];n=r[1]}else{var s=f.slice(-2),u=c(s,2);m=u[0];n=u[1]}var v=t(o,m,n,d),w=b.area({axes:[1,3],channels:3,width:e,height:e,expr:function expr(a,b,c){a(b,o(b,c),c)}}),x=b.area({expr:v,axes:[1,3],width:e,height:e,channels:4}),y=b.surface({points:w,color:"#FFFFFF",shaded:!1,fill:!0,lineX:!1,lineY:!1,colors:x,visible:!0,width:0}),z=b.surface({points:w,color:"#000000",shaded:!1,fill:!1,lineX:!0,lineY:!0,visible:!0,width:1});return[m,n]},t=function(a,b,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},e=d.graphopacity,f,g=d.graphcolorstyle;if("grayscale"==g){f=function(d,f,g){var h=a(f,g),i=(h-b)/(c-b);d(i,i,i,null!==e&&void 0!==e?e:1)}}else if("rainbow"==g){f=function(d,f,g){var h=a(f,g),i=new THREE.Color(16777215);i.setHSL(1-(h-1.2*b)/(c-1.2*b),1,.5);d(i.r,i.g,i.b,null!==e&&void 0!==e?e:.8)}}else if("lightblue"==g){f=function(a){a(0,.6,.9,null!==e&&void 0!==e?e:.9)}}else if("solidblue"==g){f=function(a){a(.5,.5,1,null!==e&&void 0!==e?e:1)}}return f};a.createGraphColorFunc=t;a.initMethods=function initMethods(){window.threed={createParametricGraph:q,createExplicitGraph:s,createImplicitGraph:r,createMathbox:m,createGraph:o,createGraphColorFunc:t}}});
//# sourceMappingURL=threedradio.min.js.map
